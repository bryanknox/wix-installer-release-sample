<Wix xmlns="http://wixtoolset.org/schemas/v4/wxs"
     xmlns:ui="http://wixtoolset.org/schemas/v4/wxs/ui">
  <Package
    Id="$(var.PackageId)"
    Version="$(var.PackageVersion)"
    Name="$(var.ProductName)"
    Manufacturer="$(var.Manufacturer)"
    Scope="perUser"
    UpgradeStrategy="majorUpgrade">

    <!--
      Enable same-version upgrades so rebuilding the MSI with the same
      three-part PackageVersion replaces the existing installation instead of
      creating a second entry in Windows' Installed Apps.

      NOTE: This also means an older build with the same three-part version
      can "upgrade" (effectively downgrade) a newer build.

      Best practice is to bump one of the first three version fields for
      released builds.
    -->
    <MajorUpgrade
        AllowSameVersionUpgrades="yes"
        DowngradeErrorMessage="!(loc.DowngradeError)"
    />

    <MediaTemplate EmbedCab="true" />

    <Feature Id="Main">
      <ComponentGroupRef Id="AppComponents" />
      <ComponentRef Id="AppShortcutComp" />
    </Feature>

    <!-- Specify the license file for the UI. Must be .rtf. -->
    <WixVariable Id="WixUILicenseRtf" Value="eula.rtf" />

    <ui:WixUI
        Id="WixUI_InstallDir"
        InstallDirectory="INSTALLFOLDER"
    />
  </Package>
</Wix>
